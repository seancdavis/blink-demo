[build]
publish = "www"
command = "npm run build"

[[edge_functions]]
path = "/*"
function = "auth"
excludedPath = "/api/auth/*"

[[edge_functions]]
path = "/*"
function = "partial"
excludedPath = "/api/*"

[[edge_functions]]
path = "/*"
function = "feedback"
excludedPath = "/api/*"

[[redirects]]
from = "/api/auth/*"
to = "/.netlify/functions/auth-:splat"
status = 200

[[redirects]]
from = "/api/user/*"
to = "/.netlify/functions/user-:splat"
status = 200

[[redirects]]
from = "/uploads/avatar/:username"
to = "/.netlify/functions/user-avatar?username=:username"
status = 200

[[redirects]]
from = "/images/*"
to = "/.netlify/images?url=/images/:splat"
status = 200
